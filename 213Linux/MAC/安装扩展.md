## Mac环境目录

```bash
// 通过phpinfo()打印页面

1. php.ini文件目录
Loaded Configuration File
/usr/local/etc/php/7.1/php.ini

2.扩展存放目录
extension_dir
/usr/local/lib/php/pecl/20160303
```

## 安装apcu

```bash
// 1.下载源码  
git clone https://github.com/krakjoe/apcu
// 2.编译安装  
cd apcu
phpize
./configure
make
sudo make install
// 3. 修改php.ini文件
extension=apcu

php --ini
// apcu.so目录
/opt/homebrew/Cellar/php@7.4/7.4.16/pecl/20190902
```



## MacOs

> OS11.1 Install Nginx

```bash
brew install nginx
# Docroot is:
/opt/homebrew/var/www
# Config files
/opt/homebrew/etc/nginx/servers/
```

> OS11.1 配置php-fpm

```bash
$ php-fpm
ERROR: failed to load configuration file '/private/etc/php-fpm.conf'
ERROR: FPM initialization failed
$ cd /private/etc
$ sudo cp php-fpm.conf.default php-fpm.conf
$ php-fpm
WARNING: Nothing matches the include pattern '/private/etc/php-fpm.d/*.conf' from /private/etc/php-fpm.conf at line 143
ERROR: failed to open error_log (/usr/var/log/php-fpm.log): No such file or directory (2)
ERROR: failed to post process the configuration
ERROR: FPM initialization failed
# cd /usr/var/log 发现根本没有这个目录，甚至连 var 目录都没有，加上为了避免权限问题，干脆配置到 /usr/local/var/log 目录。
# 修改 php-fpm.conf error_log 配置为 /usr/local/var/log/php-fpm.log，并把 user 和 group 改为和当前用户一样。
$ php-fpm
WARNING: Nothing matches the include pattern '/private/etc/php-fpm.d/*.conf' from /private/etc/php-fpm.conf at line 143.
ERROR: No pool defined. at least one pool section must be specified in config file
$ cd /private/etc/php-fpm.d
$ cp www.conf.default www.conf

```

异常

1.fatal error: 'pcre2.h' file not found #include "pcre2.h"

```bash
$cp /opt/homebrew/Cellar/pcre2/10.36/include/pcre2.h /opt/homebrew/Cellar/php\@7.4/7.4.16/include/php/ext/pcre/pcre2.h
```

